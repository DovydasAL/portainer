<rd-header>
  <rd-header-title title-text="Plugin details"></rd-header-title>
  <rd-header-content>
    <a ui-sref="portainer.plugins">Portainer plugins</a> &gt; {{ plugin.Name }}
  </rd-header-content>
</rd-header>

<div class="row" ng-if="plugin">
  <div class="col-sm-12">
    <rd-widget>
      <rd-widget-body>

        <div style="display: flex;">

          <div style="flex-grow: 4;">

            <div class="form-group">
              <div class="text-muted" style="font-size: 150%;">
                {{ plugin.Name }} plugin
              </div>

              <div class="small text-muted" style="margin-top: 5px;">
                By <a href="https://portainer.io" href="_blank">Portainer.io</a>
              </div>
            </div>

          </div>

          <div style="flex-grow: 1; border-left: 1px solid #777;">

            <div class="form-group" style="margin-left: 40px;">

              <div style="font-size: 125%; border-bottom: 2px solid #2d3e63; padding-bottom: 5px;">
                {{ plugin.Price }}
              </div>

              <div class="small text-muted" style="margin-top: 15px;">
                {{ plugin.ShortDescription }}
              </div>

              <div class="form-group">
                <label for="instances_qty" class="col-sm-7 control-label text-left">Instances</label>
                <div class="col-sm-5">
                  <input type="number" class="form-control" ng-model="formValues.instances" id="instances_qty" placeholder="1">
                </div>
              </div>

              <div style="margin-top: 15px;" ng-if="!plugin.Enabled" ng-disabled="!formValues.instances">
                <a href="https://2-portainer.pi.bypronto.com/checkout/?add-to-cart=777&quantity={{formValues.instances}}" target="_blank" class="btn btn-primary btn-sm" style="width: 100%; margin-left: 0;">
                  Buy
                </a>
              </div>

              <div style="margin-top: 15px;" ng-if="plugin.Enabled && plugin.UpdateAvailable">
                <button type="button" class="btn btn-primary btn-sm" ng-click="updatePlugin(plugin)" ng-disabled="state.updateInProgress" button-spinner="state.updateInProgress" style="width: 100%; margin-left: 0;">
                  <span ng-hide="state.updateInProgress">Update</span>
                  <span ng-show="state.updateInProgress">Updating plugin...</span>
                </button>
              </div>

              <div style="margin-top: 5px;" ng-if="plugin.Enabled">
                <button type="button" class="btn btn-danger btn-sm" ng-click="deletePlugin(plugin)" ng-disabled="state.deleteInProgress" button-spinner="state.deleteInProgress" style="width: 100%; margin-left: 0;">
                  <span ng-hide="state.deleteInProgress">Delete</span>
                  <span ng-show="state.deleteInProgress">Deleting plugin...</span>
                </button>
              </div>

            </div>

          </div>
        </div>
      </rd-widget-body>
    </rd-widget>
  </div>
</div>

<div class="row" ng-if="plugin">
  <div class="col-sm-12">
    <rd-widget>
      <rd-widget-body>
        <div class="col-sm-12 form-section-title">
          <span>
            Description
          </span>
        </div>
        <div class="form-group">
          <span class="small text-muted">
            {{ plugin.Description }}
          </span>
        </div>
      </rd-widget-body>
    </rd-widget>
  </div>
</div>
